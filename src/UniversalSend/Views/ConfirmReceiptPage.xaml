<Page
    x:Class="UniversalSend.Views.ConfirmReceiptPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="50" />
        </Grid.RowDefinitions>

        <!-- Computer Icon -->
        <Viewbox Grid.Row="1" Width="64" Height="64" HorizontalAlignment="Center" Margin="0,0,0,15">
            <Path Fill="{ThemeResource IconForegroundBrush}"
                  Data="M20,18C21.1,18,21.99,17.1,21.99,16L22,6C22,4.9,21.1,4,20,4L4,4C2.9,4,2,4.9,2,6L2,16C2,17.1,2.9,18,4,18L0,18 0,20 24,20 24,18 20,18z M4,6L20,6 20,16 4,16 4,6z"/>
        </Viewbox>

        <!-- Device name -->
        <TextBlock Grid.Row="2"
                   Text="{Binding SendRequestDataV2.Info.Alias}"
                   FontSize="24"
                   FontWeight="SemiBold"
                   HorizontalAlignment="Center"
                   Margin="0,0,0,12" />

        <!-- Tags -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,30">
            <Border Background="{ThemeResource TagBackgroundBrush}" CornerRadius="6" Padding="8,2" Margin="0,0,8,0">
                <TextBlock Text="{Binding Host}" Foreground="{StaticResource SecondaryTextBrush}" FontSize="14" FontWeight="Bold"/>
            </Border>
            <Border Background="{ThemeResource TagBackgroundBrush}" CornerRadius="6" Padding="8,2">
                <TextBlock Text="{Binding SendRequestDataV2.Info.DeviceModel}" Foreground="{StaticResource SecondaryTextBrush}" FontSize="14" FontWeight="Bold"/>
            </Border>
        </StackPanel>

        <!-- Transfer message -->
        <TextBlock Grid.Row="4" TextAlignment="Center" FontSize="18" HorizontalAlignment="Center" Margin="0,0,0,20">
            <Run Text="wants to send you " FontWeight="SemiBold" />
            <Run Text="{Binding SendRequestDataV2.Files.Count}" FontWeight="SemiBold" />
            <Run Text=" file(s)" FontWeight="SemiBold" />
        </TextBlock>

        <!-- Options -->
        <Button Grid.Row="6"
            Command="{Binding ShowOptionsCommand}"
            Background="Transparent"
            BorderThickness="0"
            Padding="0"
            HorizontalAlignment="Center"
            Margin="0,0,0,30"
            Visibility="{Binding IsCancelled, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Inverse}">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <FontIcon Glyph="&#xE713;"
                  Foreground="{StaticResource PrimaryTextBrush}"
                  Margin="0,0,4,0"/>
                <TextBlock Text="Options" FontWeight="Bold" />
            </StackPanel>
        </Button>

        <!-- Accept/Decline -->
        <StackPanel Grid.Row="7"
                    Orientation="Horizontal"
                    HorizontalAlignment="Center"
                    Visibility="{Binding IsCancelled, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=Inverse}">
            <!-- Decline -->
            <Button Command="{Binding CancelCommand}"
                    Style="{StaticResource RoundedButtonStyle}"
                    Background="{ThemeResource DeclineButtonBrush}"
                    Margin="0,0,16,0">
                <StackPanel Orientation="Horizontal">
                    <FontIcon Glyph="&#xE711;" Foreground="{StaticResource SecondaryTextBrush}" Margin="0,0,8,0"/>
                    <TextBlock Text="Decline" Foreground="{StaticResource SecondaryTextBrush}" />
                </StackPanel>
            </Button>

            <!-- Accept -->
            <Button Command="{Binding AcceptCommand}"
                    Style="{StaticResource RoundedButtonStyle}"
                    Background="{ThemeResource AcceptButtonBrush}">
                <StackPanel Orientation="Horizontal">
                    <FontIcon Glyph="&#xE8FB;" Foreground="{StaticResource SecondaryTextBrush}" Margin="0,0,8,0"/>
                    <TextBlock Text="Accept" Foreground="{StaticResource SecondaryTextBrush}" />
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Cancelled Message + Close -->
        <StackPanel Grid.Row="7"
                    HorizontalAlignment="Center"
                    Visibility="{Binding IsCancelled, Converter={StaticResource BoolToVisibilityConverter}}">
            <TextBlock Text="The sender has canceled the request."
                       Foreground="Orange"
                       FontWeight="Bold"
                       FontSize="16"
                       Margin="0,0,0,20"
                       TextAlignment="Center"
                       HorizontalAlignment="Center"/>
            <Button Command="{Binding CloseCommand}"
                    Style="{StaticResource RoundedButtonStyle}"
                    HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal">
                    <FontIcon Glyph="&#xE001;" Margin="0,0,8,0"/>
                    <TextBlock Text="Close" />
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</Page>
